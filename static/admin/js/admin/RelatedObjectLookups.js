function html_unescape(e){return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&#39;/g,"'"),e=e.replace(/&amp;/g,"&")}function id_to_windowname(e){return e=e.replace(/\./g,"__dot__"),e=e.replace(/\-/g,"__dash__")}function windowname_to_id(e){return e=e.replace(/__dot__/g,"."),e=e.replace(/__dash__/g,"-")}function showRelatedObjectLookupPopup(e){var o=e.id.replace(/^lookup_/,"");o=id_to_windowname(o);var n;n=e.href.search(/\?/)>=0?e.href+"&_popup=1":e.href+"?_popup=1";var a=window.open(n,o,"height=500,width=800,resizable=yes,scrollbars=yes");return a.focus(),!1}function dismissRelatedLookupPopup(e,o){var n=windowname_to_id(e.name),a=document.getElementById(n);-1!=a.className.indexOf("vManyToManyRawIdAdminField")&&a.value?a.value+=","+o:document.getElementById(n).value=o,e.close()}function showAddAnotherPopup(e){var o=e.id.replace(/^add_/,"");o=id_to_windowname(o);var n=e.href;n+=-1==n.indexOf("?")?"?_popup=1":"&_popup=1";var a=window.open(n,o,"height=500,width=800,resizable=yes,scrollbars=yes");return a.focus(),!1}function dismissAddAnotherPopup(e,o,n){o=html_unescape(o),n=html_unescape(n);var a,t=windowname_to_id(e.name),d=document.getElementById(t);if(d){var p=d.nodeName.toUpperCase();"SELECT"==p?(a=new Option(n,o),d.options[d.options.length]=a,a.selected=!0):"INPUT"==p&&(-1!=d.className.indexOf("vManyToManyRawIdAdminField")&&d.value?d.value+=","+o:d.value=o)}else{var i=t+"_to";a=new Option(n,o),SelectBox.add_to_cache(i,a),SelectBox.redisplay(i)}e.close()}